"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[373],{28:(e,t,a)=>{a.d(t,{A:()=>c});var l=a(2555),s=(a(5043),a(9570)),n=a(2465),i=a(1614),r=a(2136),o=a(579);const c=e=>{let{isOpen:t,onClose:a,content:c}=e;const{t:d}=(0,r.o)();return t?(0,o.jsx)(s.N,{children:t&&(0,o.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex justify-center items-center z-50 p-4",onClick:a,children:(0,o.jsxs)(n.P.div,{initial:{scale:.9,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:30},transition:{type:"spring",stiffness:300,damping:30},className:"bg-gray-900 rounded-2xl shadow-2xl shadow-purple-500/10 w-full max-w-md border border-purple-500/20",onClick:e=>e.stopPropagation(),children:[(0,o.jsxs)("div",{className:"p-6 border-b border-purple-500/20 flex justify-between items-center",children:[(0,o.jsx)("h3",{className:"text-xl font-bold text-white tracking-wider",children:(null===c||void 0===c?void 0:c.title)||d("modalDefaultTitle")}),(0,o.jsx)(n.P.button,{whileHover:{scale:1.05},whileTap:{scale:.9},onClick:a,"aria-label":"Close Modal",className:"text-gray-400 hover:text-white text-2xl w-8 h-8 flex items-center justify-center rounded-full hover:bg-white/10 transition-colors",children:"\xd7"})]}),(0,o.jsxs)("div",{className:"p-6 text-center",children:[c.contentComponent?c.contentComponent():(0,o.jsx)("p",{className:"text-gray-300 mb-6",children:c.body}),("qr-code"===c.type||"setup-qr"===c.type)&&(0,o.jsx)("div",{className:"flex justify-center bg-white p-4 rounded-lg",children:(0,o.jsx)(i.Xe,{value:c.qrValue,size:256,level:"H"})}),"alert"===c.type&&(0,o.jsx)("div",{className:"flex justify-center gap-4 mt-4",children:(0,o.jsx)(n.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:a,className:"animated-gradient-bg text-white font-bold py-2 px-4 rounded-lg",children:d("btnOk")})}),"confirm"===c.type&&(0,o.jsxs)("div",{className:"flex justify-center gap-4 mt-4",children:[(0,o.jsx)(n.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:a,className:"bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg",children:d("btnCancel")}),(0,o.jsx)(n.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{c.onConfirm(),a()},className:"animated-gradient-bg text-white font-bold py-2 px-4 rounded-lg",children:d("btnConfirm")})]}),"prompt"===c.type&&(0,o.jsxs)("div",{className:"flex flex-col items-center gap-4 mt-4",children:[(0,o.jsx)("input",{type:"text",id:"prompt-input",className:"w-full bg-black border border-gray-700 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-purple-500 focus:outline-none transition-all"}),(0,o.jsxs)("div",{className:"flex justify-center gap-4 mt-4",children:[(0,o.jsx)(n.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:a,className:"bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg",children:d("btnCancel")}),(0,o.jsx)(n.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{const e=document.getElementById("prompt-input");c.onConfirm(e.value),a()},className:"animated-gradient-bg text-white font-bold py-2 px-4 rounded-lg",children:d("btnConfirm")})]})]}),"edit-ticket"===c.type&&(0,o.jsxs)("div",{className:"flex flex-col items-center gap-4 mt-4",children:[(0,o.jsx)("input",{type:"text",id:"edit-name-input",defaultValue:c.ticket.attendeeName,className:"w-full bg-black border border-gray-700 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-purple-500 focus:outline-none transition-all"}),(0,o.jsx)("input",{type:"email",id:"edit-email-input",defaultValue:c.ticket.attendeeEmail,className:"w-full bg-black border border-gray-700 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-purple-500 focus:outline-none transition-all"}),(0,o.jsxs)("div",{className:"flex justify-center gap-4 mt-4",children:[(0,o.jsx)(n.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:a,className:"bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg",children:d("btnCancel")}),(0,o.jsx)(n.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{const e=document.getElementById("edit-name-input"),t=document.getElementById("edit-email-input");c.onConfirm((0,l.A)((0,l.A)({},c.ticket),{},{attendeeName:e.value,attendeeEmail:t.value})),a()},className:"animated-gradient-bg text-white font-bold py-2 px-4 rounded-lg",children:d("btnSave")})]})]})]})]})})}):null}},373:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var l=a(2555),s=a(5043),n=a(9570),i=a(2465),r=a(570),o=a(28),c=a(1200),d=a(6555),x=a(6089),m=a(2136),h=a(5683),p=a(579);const u=()=>{const{eventId:e}=(0,x._)(),{t:t}=(0,m.o)(),[u,g]=(0,s.useState)([]),[b,f]=(0,s.useState)(!1),[v,w]=(0,s.useState)(!1),[y,j]=(0,s.useState)(!1),[N,k]=(0,s.useState)(new Set),[C,P]=(0,s.useState)(null),[S,E]=(0,s.useState)({qrSize:1150,qrX:220,qrY:1110,fontSize:150,nameX:400,nameY:925,messageBefore:"",messageAfter:"",emailSubject:"",senderName:""}),{modalContent:T,showModal:z,hideModal:B,showErrorModal:M,showConfirmModal:A}=(0,d.h)(),H=(0,s.useCallback)(async()=>{if(e){f(!0);try{const t=await(0,c.oP)(e);g(t),k(new Set)}catch(a){console.error("Failed to fetch tickets",a),M("".concat(t("errorCsvEmpty"),": ").concat(a.message))}finally{f(!1)}}},[e,M,t]);(0,s.useEffect)(()=>{e?H():g([])},[e,H]);const I=e=>{const{name:t,value:a}=e.target;E(e=>(0,l.A)((0,l.A)({},e),{},{[t]:["messageBefore","messageAfter","emailSubject","senderName"].includes(t)?a:parseInt(a)||0}))};return e?(0,p.jsxs)(r.A,{children:[(0,p.jsxs)("div",{className:"flex-1 flex flex-col h-full relative overflow-hidden",children:[(0,p.jsx)("div",{className:"fixed inset-0 pointer-events-none ambient-glow -z-10"}),(0,p.jsxs)("div",{className:"p-8 flex flex-col h-full max-w-7xl mx-auto w-full",children:[(0,p.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-end mb-8 pb-4 border-b border-white/10 gap-4 shrink-0",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h1",{className:"text-3xl font-bold text-white rainbow-text tracking-tight",children:t("emailTitle")}),(0,p.jsxs)("p",{className:"text-gray-400 mt-1 flex items-center gap-2",children:[t("emailManageCommunications"),(0,p.jsx)("span",{className:"glass-panel px-2 py-0.5 rounded text-purple-300 font-mono text-sm",children:e})]})]}),(0,p.jsxs)("div",{className:"flex gap-3",children:[(0,p.jsxs)(i.P.button,{variants:h.XW,whileHover:"hover",whileTap:"tap",onClick:()=>j(!y),className:"glass-interactive px-6 py-3 text-white font-bold rounded-xl shadow-lg flex items-center gap-2",children:["\u2699\ufe0f ",t("btnSettings")]}),(0,p.jsx)(i.P.button,{variants:h.XW,whileHover:"hover",whileTap:"tap",onClick:async()=>{const a=N.size>0?u.filter(e=>N.has(e.id)):u;if(0===a.length)return M("No tickets available to send.");A(t("modalSendBatchTitle"),t("modalSendBatchBody",a.length),async()=>{B(),w(!0);try{const t=await(0,c.IL)(e,C,S,S.messageBefore,S.messageAfter,S.emailSubject,S.senderName,N.size>0?Array.from(N):null);let a="Batch Complete!\nSuccess: ".concat(t.result.success,"\nFailed: ").concat(t.result.failed);t.result.errors&&t.result.errors.length>0&&(a+="\n\nErrors:\n".concat(t.result.errors.join("\n"))),alert(a),H()}catch(a){M("".concat(t("importFailed"),": ").concat(a.message))}finally{w(!1)}})},disabled:v||b,className:"animated-gradient-bg px-6 py-3 text-white font-bold rounded-xl shadow-lg disabled:opacity-50 flex items-center gap-2",children:v?"Sending...":N.size>0?"\ud83d\ude80 Send to ".concat(N.size):"\ud83d\ude80 ".concat(t("btnBatch"))})]})]}),(0,p.jsx)(n.N,{children:y&&(0,p.jsx)(i.P.div,{initial:{height:0,opacity:0,marginBottom:0},animate:{height:"auto",opacity:1,marginBottom:32,transition:{ease:h.Ux.gentle,duration:.4}},exit:{height:0,opacity:0,marginBottom:0,transition:{ease:h.Ux.gentle,duration:.3}},className:"overflow-hidden relative z-50 shrink-0",children:(0,p.jsxs)("div",{className:"glass-panel p-6 rounded-2xl border border-white/10 bg-white/5 grid grid-cols-1 md:grid-cols-2 lg:col-span-4 gap-6",children:[(0,p.jsxs)("div",{className:"col-span-1 md:col-span-2 lg:col-span-4",children:[(0,p.jsx)("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-2",children:t("labelBg")}),(0,p.jsx)("input",{type:"file",onChange:async e=>{const l=e.target.files[0];if(l)try{const e=await Promise.resolve().then(a.bind(a,1200)).then(e=>e.uploadBackground(l));P(e.filename||e)}catch(s){M("".concat(t("errorUploadFailed"),": ").concat(s.message))}},className:"block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-violet-50 file:text-violet-700 hover:file:bg-violet-100"}),C&&(0,p.jsxs)("p",{className:"text-xs text-green-400 mt-1",children:["Active: ",C]})]}),(0,p.jsxs)("div",{className:"col-span-1 md:col-span-2 lg:col-span-2",children:[(0,p.jsx)("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-2",children:t("labelSubject")}),(0,p.jsx)("input",{type:"text",name:"emailSubject",value:S.emailSubject,onChange:I,placeholder:t("emailSubjectPlaceholder"),className:"w-full bg-black/50 border border-gray-700 rounded-lg px-3 py-2 text-white focus:border-blue-500 outline-none text-sm"})]}),(0,p.jsxs)("div",{className:"col-span-1 md:col-span-2 lg:col-span-2",children:[(0,p.jsx)("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-2",children:t("labelSender")}),(0,p.jsx)("input",{type:"text",name:"senderName",value:S.senderName,onChange:I,placeholder:t("emailSenderPlaceholder"),className:"w-full bg-black/50 border border-gray-700 rounded-lg px-3 py-2 text-white focus:border-blue-500 outline-none text-sm"})]}),(0,p.jsxs)("div",{className:"col-span-1 md:col-span-2 lg:col-span-2",children:[(0,p.jsx)("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-2",children:t("labelPreamble")}),(0,p.jsx)("textarea",{name:"messageBefore",value:S.messageBefore,onChange:I,placeholder:t("emailPreamblePlaceholder"),className:"w-full bg-black/50 border border-gray-700 rounded-lg px-3 py-2 text-white focus:border-blue-500 outline-none h-24 text-sm resize-none"})]}),(0,p.jsxs)("div",{className:"col-span-1 md:col-span-2 lg:col-span-2",children:[(0,p.jsx)("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-2",children:t("labelFinePrint")}),(0,p.jsx)("textarea",{name:"messageAfter",value:S.messageAfter,onChange:I,placeholder:t("emailFinePrintPlaceholder"),className:"w-full bg-black/50 border border-gray-700 rounded-lg px-3 py-2 text-white focus:border-blue-500 outline-none h-24 text-sm resize-none"})]}),["qrSize","qrX","qrY","fontSize","nameX","nameY"].map(e=>(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-2",children:e}),(0,p.jsx)("input",{type:"number",name:e,value:S[e],onChange:I,className:"w-full bg-black/50 border border-gray-700 rounded-lg px-3 py-2 text-white focus:border-blue-500 outline-none"})]},e))]})})}),(0,p.jsx)("div",{className:"glass-panel rounded-2xl overflow-hidden border border-white/5 flex-1 flex flex-col min-h-0",children:(0,p.jsxs)("div",{className:"overflow-y-auto custom-scrollbar flex-1",children:[(0,p.jsxs)("table",{className:"w-full text-left border-collapse relative",children:[(0,p.jsx)("thead",{className:"bg-gray-900/95 backdrop-blur text-gray-400 text-xs uppercase tracking-wider sticky top-0 z-10 shadow-sm",children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{className:"p-4 w-10",children:(0,p.jsx)("input",{type:"checkbox",checked:u.length>0&&N.size===u.length,onChange:()=>{N.size===u.length?k(new Set):k(new Set(u.map(e=>e.id)))},className:"rounded border-gray-600 bg-transparent focus:ring-indigo-500"})}),(0,p.jsx)("th",{className:"p-4",children:t("colAttendee")}),(0,p.jsx)("th",{className:"p-4",children:t("colEmail")}),(0,p.jsx)("th",{className:"p-4",children:t("colStatus")}),(0,p.jsx)("th",{className:"p-4 text-right",children:t("colActions")})]})}),(0,p.jsx)(i.P.tbody,{variants:h.tl,initial:"hidden",animate:"visible",className:"divide-y divide-white/5",children:u.map(l=>(0,p.jsxs)(i.P.tr,{variants:h.tE,layout:!0,className:"hover:bg-white/5 transition-colors ".concat(N.has(l.id)?"bg-indigo-500/10":""),onClick:()=>(e=>{const t=new Set(N);t.has(e)?t.delete(e):t.add(e),k(t)})(l.id),children:[(0,p.jsx)("td",{className:"p-4",children:(0,p.jsx)("input",{type:"checkbox",checked:N.has(l.id),onChange:()=>{},className:"rounded border-gray-600 bg-transparent focus:ring-indigo-500 pointer-events-none"})}),(0,p.jsx)("td",{className:"p-4 font-medium",children:l.attendeeName}),(0,p.jsx)("td",{className:"p-4 text-gray-400",children:l.attendeeEmail}),(0,p.jsxs)("td",{className:"p-4",children:[(0,p.jsx)("span",{className:"px-2 py-1 rounded text-xs font-bold ".concat("checked-in"===l.status?"bg-green-500/20 text-green-400":"bg-blue-500/20 text-blue-400"),children:l.status}),"sent"===l.emailStatus&&(0,p.jsx)("span",{className:"ml-2 text-xs",children:"\u2705 Sent"})]}),(0,p.jsxs)("td",{className:"p-4 text-right space-x-2",onClick:e=>e.stopPropagation(),children:[(0,p.jsx)(i.P.button,{variants:h.XW,whileHover:"hover",whileTap:"tap",onClick:()=>(async l=>{f(!0);try{const s=await Promise.resolve().then(a.bind(a,1200)).then(t=>t.getEmailPreview(e,l.id,C,S)),n=S.messageBefore||t("emailDefaultMsgBefore",e),i=S.messageAfter||t("emailDefaultMsgAfter"),r=(0,p.jsx)("div",{className:"p-0 bg-gray-50 text-gray-800 rounded-xl max-w-2xl mx-auto border shadow-lg max-h-[80vh] overflow-y-auto",children:(0,p.jsxs)("div",{className:"bg-white p-8 text-center",children:[(0,p.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-900"}),(0,p.jsx)("p",{className:"text-gray-600 mb-6 whitespace-pre-wrap",children:n}),(0,p.jsx)("div",{className:"mb-6",children:(0,p.jsx)("img",{src:s,alt:"Ticket Preview for ".concat(l.attendeeName),loading:"lazy",className:"w-full h-auto rounded shadow-lg border"})}),(0,p.jsx)("p",{className:"text-gray-600 mb-6 whitespace-pre-wrap",children:i}),(0,p.jsxs)("p",{className:"text-xs text-gray-400 mt-8 pt-4 border-t",children:["Ticket ID: ",l.id]})]})});z({type:"custom",title:t("btnSimulate"),body:r,contentComponent:()=>r})}catch(s){M("Preview failed: ".concat(s.message))}finally{f(!1)}})(l),className:"px-3 py-1.5 bg-gray-800 hover:bg-gray-700 rounded-lg text-xs font-bold border border-white/10 transition-colors",children:t("btnSimulate")}),(0,p.jsx)(i.P.button,{variants:h.XW,whileHover:"hover",whileTap:"tap",onClick:()=>(async a=>{if(!a.attendeeEmail)return M("This ticket has no email address.");w(!0);try{await(0,c.z9)(e,a.id,C,S,S.messageBefore,S.messageAfter,S.emailSubject,S.senderName),alert(t("emailSent",a.attendeeEmail))}catch(l){M("".concat(t("importFailed"),": ").concat(l.message))}finally{w(!1)}})(l),disabled:v,className:"px-3 py-1.5 bg-indigo-600/20 hover:bg-indigo-600/40 text-indigo-300 hover:text-white border border-indigo-500/30 rounded-lg text-xs font-bold transition-colors",children:t("btnHarass")})]})]},l.id))})]}),0===u.length&&!b&&(0,p.jsx)("div",{className:"p-12 text-center text-gray-500",children:t("emptyEmail")})]})})]})]}),(0,p.jsx)(o.A,{isOpen:!!T,onClose:B,content:T||{}})]}):(0,p.jsxs)(r.A,{children:[(0,p.jsx)("div",{className:"flex-1 flex items-center justify-center text-gray-500 h-full",children:t("errorNoEventSelected")}),(0,p.jsx)(o.A,{isOpen:!!T,onClose:B,content:T||{}})]})}},570:(e,t,a)=>{a.d(t,{A:()=>u});var l=a(5043),s=a(2465),n=a(9570),i=a(6089),r=a(2136),o=a(5683),c=a(579);const d=e=>{let{onNewEvent:t,onDeleteEvent:a,onRaffle:d}=e;const{events:x,loading:m,eventId:h,selectEvent:p}=(0,i._)(),{t:u,cycleLanguage:g,language:b}=(0,r.o)(),[f,v]=(0,l.useState)(!1);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"xl:hidden fixed top-4 left-4 z-50",children:(0,c.jsx)(s.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>v(!f),"aria-label":f?"Close Sidebar":"Open Sidebar",className:"bg-gray-900/80 backdrop-blur text-white p-2.5 rounded-xl border border-gray-700 shadow-lg",children:f?(0,c.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):(0,c.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),(0,c.jsx)("div",{className:"fixed inset-y-0 left-0 z-50 w-72 bg-gradient-to-b from-slate-900/90 to-slate-950/90 backdrop-blur-xl border-r border-white/10 shadow-2xl transform transition-all duration-300 ease-out xl:translate-x-0 ".concat(f?"translate-x-0":"-translate-x-full"),children:(0,c.jsxs)("div",{className:"p-6 flex flex-col h-full relative overflow-hidden",children:[(0,c.jsx)("div",{className:"absolute top-0 left-0 w-full h-32 bg-violet-600/10 blur-3xl -z-10 pointer-events-none"}),(0,c.jsx)(s.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-8 mt-2 flex justify-between items-center",children:(0,c.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-2 cursor-pointer",onClick:()=>window.location.hash="",children:[(0,c.jsx)("span",{className:"w-8 h-8 bg-gradient-to-br from-violet-500 via-fuchsia-500 to-pink-500 rounded-lg flex items-center justify-center text-lg shadow-lg shadow-violet-500/20",children:"\ud83c\udfab"}),(0,c.jsx)("span",{className:"rainbow-text font-extrabold tracking-tight",children:u("appTitle")})]})}),(0,c.jsxs)(s.P.button,{variants:o.XW,whileHover:"hover",whileTap:"tap",onClick:g,className:"mb-6 w-full py-2 px-3 glass-interactive rounded-lg text-xs font-bold text-slate-400 uppercase tracking-wider flex justify-between items-center group",children:[(0,c.jsx)("span",{children:"Language"}),(0,c.jsx)("span",{className:"text-white group-hover:text-violet-300 transition-colors",children:"en"===b?"\ud83c\uddfa\ud83c\uddf8 EN":"\ud83c\uddf9\ud83c\uddfc TW"})]}),(0,c.jsxs)("div",{className:"flex-grow overflow-y-auto pr-2 custom-scrollbar",children:[(0,c.jsx)("h3",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-4 px-2",children:u("yourEvents")}),m&&(0,c.jsx)("div",{className:"flex justify-center py-4",children:(0,c.jsx)("div",{className:"w-6 h-6 border-2 border-pink-500 border-t-transparent rounded-full animate-spin"})}),(0,c.jsx)(s.P.div,{variants:o.tl,initial:"hidden",animate:"visible",className:"space-y-1",children:x.map(e=>{const t=h===e.id;return(0,c.jsxs)(s.P.div,{variants:o.tE,className:"relative group flex items-center",children:[(0,c.jsxs)("button",{onClick:()=>{var t;t=e.id,p(t),v(!1),v(!1)},className:"relative w-full text-left px-4 py-3.5 rounded-xl transition-all duration-300 ".concat(t?"text-white font-bold":"text-slate-400 hover:text-slate-200 hover:bg-white/5"),children:[t&&(0,c.jsx)(s.P.div,{layoutId:"activeEventBackground",className:"absolute inset-0 bg-gradient-to-r from-white/10 to-transparent border border-white/10 rounded-xl shadow-lg backdrop-blur-sm",initial:!1,transition:{type:"spring",stiffness:500,damping:30}}),t&&(0,c.jsx)(s.P.div,{layoutId:"activeEventIndicator",className:"absolute left-0 top-0 bottom-0 my-auto w-1 h-6 bg-gradient-to-b from-violet-500 via-fuchsia-500 to-pink-500 rounded-r-full shadow-[0_0_15px_rgba(168,85,247,0.6)]",initial:!1,transition:{type:"spring",stiffness:500,damping:30}}),(0,c.jsx)("span",{className:"relative z-10 truncate block pl-3 transition-transform duration-200 group-hover:translate-x-1",children:e.name||e.id})]}),(0,c.jsx)(s.P.button,{whileHover:{scale:1.1,color:"#ef4444"},whileTap:{scale:.9},onClick:t=>{t.stopPropagation(),a(e.id)},className:"absolute right-2 z-20 p-2 text-slate-500 opacity-0 group-hover:opacity-100 transition-all duration-200 hover:bg-white/10 rounded-lg",title:"Delete Event",children:(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},e.id)})}),h&&(0,c.jsxs)(s.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 mb-4 px-1",children:[(0,c.jsx)("h3",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-3 px-2",children:u("quickTools")}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,c.jsxs)(s.P.button,{variants:o.XW,whileHover:"hover",whileTap:"tap",onClick:d,className:"p-3 glass-interactive rounded-xl text-center group flex flex-col items-center justify-center gap-2",children:[(0,c.jsx)("div",{className:"text-xl group-hover:scale-110 transition-transform duration-300 drop-shadow-[0_0_8px_rgba(255,255,255,0.3)]",children:"\ud83c\udfb2"}),(0,c.jsx)("div",{className:"text-[10px] text-slate-400 font-medium",children:u("raffle")})]}),(0,c.jsxs)(s.P.button,{variants:o.XW,whileHover:"hover",whileTap:"tap",onClick:()=>window.location.hash="#email",className:"p-3 glass-interactive rounded-xl text-center group flex flex-col items-center justify-center gap-2",children:[(0,c.jsx)("div",{className:"text-xl group-hover:scale-110 transition-transform duration-300 drop-shadow-[0_0_8px_rgba(255,255,255,0.3)]",children:"\u2709\ufe0f"}),(0,c.jsx)("div",{className:"text-[10px] text-slate-400 font-medium",children:u("email")})]})]})]})]}),(0,c.jsx)("div",{className:"mt-auto pt-6 border-t border-white/5",children:(0,c.jsxs)(s.P.button,{variants:o.XW,whileHover:"hover",whileTap:"tap",onClick:t,className:"w-full group relative flex items-center justify-center gap-2 animated-gradient-bg text-white py-3.5 px-4 rounded-xl transition-all border border-white/10 shadow-lg",children:[(0,c.jsx)("span",{className:"text-xl font-light relative z-10 leading-none pb-1",children:"+"}),(0,c.jsx)("span",{className:"font-medium relative z-10",children:u("createEvent")})]})}),(0,c.jsx)("div",{className:"text-[10px] text-slate-600 text-center mt-6 pb-2 select-none opacity-50",children:u("sidebarFooter")})]})}),(0,c.jsx)(n.N,{children:f&&(0,c.jsx)(s.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 lg:hidden",onClick:()=>v(!1)})})]})};var x=a(28);const m=e=>{let{children:t,className:a=""}=e;return(0,c.jsx)(s.P.div,{initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.98},transition:{duration:.4,ease:[.22,1,.36,1]},className:"w-full h-full flex flex-col ".concat(a),children:t})};var h=a(6555),p=a(1200);const u=e=>{let{children:t}=e;const{eventId:a,selectEvent:l,triggerRefresh:s,fetchEvents:n}=(0,i._)(),{modalContent:o,hideModal:u,showErrorModal:g,showPromptModal:b,showConfirmModal:f,showModal:v}=(0,h.h)(),{t:w}=(0,r.o)();return(0,c.jsxs)("div",{className:"flex h-screen bg-transparent text-slate-200 font-sans overflow-hidden",children:[(0,c.jsx)(d,{currentEventId:a,onSelectEvent:l,onNewEvent:()=>{b(w("modalPromptTitle"),"Enter a unique ID for the new event (e.g., concert-2025).",async e=>{if(e){const a=e.trim().toLowerCase().replace(/\s+/g,"-");try{await(0,p.lh)(a),l(a),s()}catch(t){g("Failed to create event: ".concat(t.message))}}u()})},onDeleteEvent:e=>{f(w("modalDeleteEventTitle"),w("modalDeleteEventBody",e),async()=>{try{await(0,p.SX)(e),a===e&&l(null),n(),u()}catch(t){g("Failed to delete event: "+t.message)}})},onRaffle:async()=>{if(a)try{const e=await(0,p.ah)(a);v({type:"alert",title:w("raffleWinnerTitle"),contentComponent:()=>(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"text-6xl mb-4 animate-bounce",children:"\ud83c\udfc6"}),(0,c.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:e.winner.name}),(0,c.jsx)("p",{className:"text-gray-400",children:e.winner.email}),(0,c.jsxs)("div",{className:"mt-6 text-xs text-gray-600 uppercase tracking-widest",children:[w("poolSize")," ",e.poolSize]})]})})}catch(e){g(e.message)}},refreshTrigger:0}),(0,c.jsx)("div",{className:"flex-1 flex flex-col min-w-0 relative xl:ml-72 transition-all duration-300 h-full",children:(0,c.jsx)(m,{children:t})}),(0,c.jsx)(x.A,{isOpen:!!o,onClose:u,content:o||{}})]})}},6555:(e,t,a)=>{a.d(t,{h:()=>n});var l=a(5043),s=a(2136);const n=()=>{const[e,t]=(0,l.useState)(null),{t:a}=(0,s.o)(),n=(0,l.useCallback)(e=>{t(e)},[]),i=(0,l.useCallback)(()=>{t(null)},[]),r=(0,l.useCallback)(e=>{n({type:"alert",title:a("modalError"),body:e})},[n,a]),o=(0,l.useCallback)((e,t,a)=>{n({type:"confirm",title:e,body:t,onConfirm:a})},[n]),c=(0,l.useCallback)((e,t,a)=>{n({type:"prompt",title:e,body:t,onConfirm:a})},[n]),d=(0,l.useCallback)((e,t,a)=>{n({type:"qr-code",title:e,body:t,qrValue:a})},[n]);return{modalContent:e,showModal:n,hideModal:i,showErrorModal:r,showConfirmModal:o,showPromptModal:c,showQrCodeModal:d}}}}]);
//# sourceMappingURL=373.79f81424.chunk.js.map