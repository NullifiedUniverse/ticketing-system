"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[570],{28:(e,t,a)=>{a.d(t,{A:()=>x});var i=a(2555),n=(a(5043),a(9570)),l=a(9059),s=a(1614),r=a(2136),o=a(5683),c=a(3840),d=a(579);const x=e=>{let{isOpen:t,onClose:a,content:x}=e;const{t:p}=(0,r.o)();return(0,d.jsx)(n.N,{children:t&&(0,d.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:.2}},className:"fixed inset-0 bg-black/80 backdrop-blur-md flex justify-center items-center z-50 p-4",onClick:a,children:(0,d.jsxs)(l.P.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:o.Ux.spring,className:"glass-panel w-full max-w-lg md:max-w-2xl border border-white/10 m-4 shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,d.jsxs)("div",{className:"p-6 border-b border-purple-500/20 flex justify-between items-center",children:[(0,d.jsx)("h3",{className:"text-xl font-bold text-white tracking-wider",children:(null===x||void 0===x?void 0:x.title)||p("modalDefaultTitle")}),(0,d.jsx)(l.P.button,{whileHover:{scale:1.05},whileTap:{scale:.9},onClick:a,"aria-label":"Close Modal",className:"text-gray-400 hover:text-white text-2xl w-8 h-8 flex items-center justify-center rounded-full hover:bg-white/10 transition-colors",children:"\xd7"})]}),(0,d.jsxs)("div",{className:"p-6 text-center",children:[x.contentComponent?x.contentComponent():(0,d.jsx)("p",{className:"text-gray-300 mb-6",children:x.body}),("qr-code"===x.type||"setup-qr"===x.type)&&(0,d.jsx)("div",{className:"flex justify-center bg-white p-4 rounded-lg",children:(0,d.jsx)(s.Xe,{value:x.qrValue,size:256,level:"M"})}),"alert"===x.type&&(0,d.jsx)("div",{className:"flex justify-center gap-4 mt-4",children:(0,d.jsx)(c.A,{onClick:a,className:"w-auto px-6 py-2",children:p("btnOk")})}),"confirm"===x.type&&(0,d.jsxs)("div",{className:"flex justify-center gap-4 mt-4",children:[(0,d.jsx)(c.A,{variant:"secondary",onClick:a,className:"w-auto px-6 py-2 bg-gray-700 hover:bg-gray-600 border-none",children:p("btnCancel")}),(0,d.jsx)(c.A,{onClick:()=>{x.onConfirm(),a()},className:"w-auto px-6 py-2",children:p("btnConfirm")})]}),"prompt"===x.type&&(0,d.jsxs)("div",{className:"flex flex-col items-center gap-4 mt-4",children:[(0,d.jsx)("input",{type:"text",id:"prompt-input",className:"w-full bg-black border border-gray-700 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-purple-500 focus:outline-none transition-all"}),(0,d.jsxs)("div",{className:"flex justify-center gap-4 mt-4",children:[(0,d.jsx)(c.A,{variant:"secondary",onClick:a,className:"w-auto px-6 py-2 bg-gray-700 hover:bg-gray-600 border-none",children:p("btnCancel")}),(0,d.jsx)(c.A,{onClick:()=>{const e=document.getElementById("prompt-input");x.onConfirm(e.value),a()},className:"w-auto px-6 py-2",children:p("btnConfirm")})]})]}),"edit-ticket"===x.type&&(0,d.jsxs)("div",{className:"flex flex-col items-center gap-4 mt-4",children:[(0,d.jsx)("input",{type:"text",id:"edit-name-input",defaultValue:x.ticket.attendeeName,className:"w-full bg-black border border-gray-700 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-purple-500 focus:outline-none transition-all"}),(0,d.jsx)("input",{type:"email",id:"edit-email-input",defaultValue:x.ticket.attendeeEmail,className:"w-full bg-black border border-gray-700 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-purple-500 focus:outline-none transition-all"}),(0,d.jsxs)("div",{className:"flex justify-center gap-4 mt-4",children:[(0,d.jsx)(c.A,{variant:"secondary",onClick:a,className:"w-auto px-6 py-2 bg-gray-700 hover:bg-gray-600 border-none",children:p("btnCancel")}),(0,d.jsx)(c.A,{onClick:()=>{const e=document.getElementById("edit-name-input"),t=document.getElementById("edit-email-input");x.onConfirm((0,i.A)((0,i.A)({},x.ticket),{},{attendeeName:e.value,attendeeEmail:t.value})),a()},className:"w-auto px-6 py-2",children:p("btnSave")})]})]})]})]})})})}},570:(e,t,a)=>{a.d(t,{A:()=>f});var i=a(5043),n=a(9059),l=a(9570),s=a(6089),r=a(2136),o=a(5683),c=a(3840),d=a(579);const x=(0,i.memo)(e=>{let{onNewEvent:t,onDeleteEvent:a,isCollapsed:x,toggleCollapse:p}=e;const{events:h,loading:m,eventId:u,selectEvent:f}=(0,s._)(),{t:g,cycleLanguage:v,language:y}=(0,r.o)(),[b,w]=(0,i.useState)(!1);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"xl:hidden fixed top-3 left-3 z-[60]",children:(0,d.jsx)("button",{onClick:()=>w(!b),"aria-label":b?"Close Sidebar":"Open Sidebar",className:"bg-gray-900/80 backdrop-blur-md text-white p-2 rounded-lg border border-gray-700 shadow-lg active:scale-95 transition-transform",children:b?(0,d.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):(0,d.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),(0,d.jsxs)(n.P.aside,{initial:!1,animate:{width:x?80:288},transition:o.ND,style:{willChange:"width, transform"},className:"fixed z-50 bg-slate-950/90 backdrop-blur-2xl border-r border-white/10 shadow-2xl xl:top-0 xl:bottom-0 xl:left-0 inset-y-0 left-0 h-full flex flex-col ".concat(b?"translate-x-0 w-72":"-translate-x-full xl:translate-x-0"),children:[(0,d.jsx)("div",{className:"absolute top-0 left-0 w-full h-40 bg-gradient-to-br from-indigo-900/40 via-purple-900/20 to-transparent blur-3xl -z-10 pointer-events-none"}),(0,d.jsxs)("div",{className:"".concat(x?"px-2":"px-4"," py-4 pt-16 xl:pt-4 flex flex-col h-full overflow-hidden transition-all duration-300"),children:[(0,d.jsxs)("div",{className:"mb-6 flex items-center shrink-0 h-10 relative transition-all duration-300 ".concat(x?"pl-2":""),children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 cursor-pointer text-white whitespace-nowrap overflow-hidden",onClick:()=>window.location.hash="",children:[(0,d.jsx)(n.P.span,{layout:"position",className:"w-10 h-10 bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center text-xl shadow-lg shadow-indigo-500/20 shrink-0",children:"\ud83c\udfab"}),(0,d.jsx)(l.N,{children:!x&&(0,d.jsx)(n.P.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2},className:"font-bold tracking-tight text-lg rainbow-text",children:g("appTitle")})})]}),(0,d.jsx)("button",{onClick:p,className:"hidden xl:flex p-1.5 rounded-lg hover:bg-white/10 text-slate-400 hover:text-white transition-colors absolute right-0 top-1/2 -translate-y-1/2 z-10",children:(0,d.jsx)("svg",{className:"w-5 h-5 transform transition-transform duration-300 ".concat(x?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})})]}),(0,d.jsxs)(c.A,{variant:"glass",onClick:v,className:"mb-6 w-full py-2 text-xs font-bold text-slate-400 uppercase tracking-wider shrink-0 group transition-all duration-300 ".concat(x?"pl-[18px]":"px-3 justify-between"),title:x?"en"===y?"English":"Chinese":"",children:[!x&&(0,d.jsx)("span",{children:"Language"}),(0,d.jsx)("span",{className:"text-white group-hover:text-violet-300 transition-colors",children:"en"===y?"\ud83c\uddfa\ud83c\uddf8":"\ud83c\uddf9\ud83c\uddfc"})]}),(0,d.jsxs)("div",{className:"flex-1 overflow-y-auto custom-scrollbar pr-1 -mr-1",children:[!x&&(0,d.jsx)("h3",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-3 px-1 whitespace-nowrap",children:g("yourEvents")}),m&&(0,d.jsx)("div",{className:"flex justify-center py-4",children:(0,d.jsx)("div",{className:"w-5 h-5 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin"})}),(0,d.jsx)(n.P.div,{variants:o.tl,initial:"hidden",animate:"visible",className:"space-y-1.5",children:h.map(e=>{const t=u===e.id;return(0,d.jsxs)(n.P.button,{variants:o.tE,layout:"position",onClick:()=>{return t=e.id,f(t),void w(!1);var t},className:"relative w-full flex items-center py-2.5 rounded-xl transition-all duration-300 group ".concat(t?"text-white":"text-slate-400 hover:bg-white/5 hover:text-slate-200"," ").concat(x?"pl-[14px]":"px-3"),title:x?e.name||e.id:"",children:[t&&(0,d.jsx)(n.P.div,{layoutId:"activeEvent",className:"absolute inset-0 bg-gradient-to-r from-white/10 to-transparent border border-white/5 rounded-xl shadow-sm",initial:!1,transition:{type:"spring",stiffness:500,damping:30}}),(0,d.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-xs font-bold shrink-0 transition-all ".concat(t?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30":"bg-slate-800/50 text-slate-500 group-hover:bg-slate-700 group-hover:text-slate-300"),children:(e.name||e.id).substring(0,2).toUpperCase()}),(0,d.jsx)(l.N,{children:!x&&(0,d.jsx)(n.P.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2},className:"relative z-10 truncate pl-3 text-sm font-medium",children:e.name||e.id})})]},e.id)})}),u&&(0,d.jsxs)("div",{className:"mt-8 mb-4 ".concat(x?"flex flex-col gap-2":""),children:[!x&&(0,d.jsx)("h3",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-3 px-1 whitespace-nowrap",children:g("quickTools")}),(0,d.jsxs)("div",{className:"".concat(x?"flex flex-col gap-2":"grid grid-cols-2 gap-2"),children:[(0,d.jsxs)(c.A,{variant:"glass",onClick:()=>window.location.hash="#raffle-control",className:"p-0 flex-col gap-1 items-center justify-center transition-all duration-300 ".concat(x?"!h-10 !px-0":"h-20"),title:x?g("raffleControl"):"",children:[(0,d.jsx)("div",{className:"text-xl group-hover:scale-110 transition-transform",children:"\u2699\ufe0f"}),!x&&(0,d.jsx)("div",{className:"text-[10px] text-slate-400 font-medium",children:g("raffleControl")})]}),(0,d.jsxs)(c.A,{variant:"glass",onClick:()=>window.location.hash="#raffle",className:"p-0 flex-col gap-1 items-center justify-center transition-all duration-300 ".concat(x?"!h-10 !px-0":"h-20"),title:x?g("raffle"):"",children:[(0,d.jsx)("div",{className:"text-xl group-hover:scale-110 transition-transform",children:"\ud83c\udfb2"}),!x&&(0,d.jsx)("div",{className:"text-[10px] text-slate-400 font-medium",children:g("raffle")})]}),(0,d.jsxs)(c.A,{variant:"glass",onClick:()=>window.location.hash="#email",className:"p-0 flex-col gap-1 items-center justify-center transition-all duration-300 ".concat(x?"!h-10 !px-0":"h-20"),title:x?g("email"):"",children:[(0,d.jsx)("div",{className:"text-xl group-hover:scale-110 transition-transform",children:"\u2709\ufe0f"}),!x&&(0,d.jsx)("div",{className:"text-[10px] text-slate-400 font-medium",children:g("email")})]})]})]})]}),(0,d.jsx)("div",{className:"mt-auto pt-4 border-t border-white/5 shrink-0",children:(0,d.jsxs)(c.A,{onClick:t,className:"w-full shadow-lg bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white transition-all duration-300 ".concat(x?"!px-0 py-3 justify-center":"py-3 px-4"),title:x?g("createEvent"):"",children:[(0,d.jsx)("span",{className:"text-xl font-light leading-none",children:"+"}),!x&&(0,d.jsx)("span",{className:"font-bold ml-2 text-sm",children:g("createEvent")})]})})]})]}),(0,d.jsx)(l.N,{children:b&&(0,d.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 xl:hidden",onClick:()=>w(!1)})})]})});var p=a(28);const h=e=>{let{children:t,className:a=""}=e;return(0,d.jsx)(n.P.div,{initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.98},transition:{duration:.4,ease:[.22,1,.36,1]},className:"w-full h-full flex flex-col ".concat(a),children:t})};var m=a(6555),u=a(1200);const f=e=>{let{children:t}=e;const{eventId:a,selectEvent:l,triggerRefresh:c,fetchEvents:f}=(0,s._)(),{modalContent:g,hideModal:v,showErrorModal:y,showPromptModal:b,showConfirmModal:w}=(0,m.h)(),{t:j}=(0,r.o)(),[N,k]=(0,i.useState)(!1),[C,E]=(0,i.useState)(window.innerWidth>=1280);i.useEffect(()=>{const e=()=>{E(window.innerWidth>=1280)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);return(0,d.jsxs)("div",{className:"flex h-screen bg-transparent text-slate-200 font-sans overflow-hidden",children:[(0,d.jsx)(x,{currentEventId:a,onSelectEvent:l,onNewEvent:()=>{b(j("modalPromptTitle"),"Enter a unique ID for the new event (e.g., concert-2025).",async e=>{if(e){const a=e.trim().toLowerCase().replace(/\s+/g,"-");try{await(0,u.lh)(a),l(a),c()}catch(t){y("Failed to create event: ".concat(t.message))}}v()})},onDeleteEvent:e=>{w(j("modalDeleteEventTitle"),j("modalDeleteEventBody",e),async()=>{try{await(0,u.SX)(e),a===e&&l(null),f(),v()}catch(t){y("Failed to delete event: "+t.message)}})},isCollapsed:N,toggleCollapse:()=>k(!N)}),(0,d.jsx)(n.P.div,{initial:!1,animate:{marginLeft:C?N?96:320:0},transition:o.ND,className:"flex-1 flex flex-col min-w-0 relative h-full will-change-transform",children:(0,d.jsx)(h,{children:t})}),(0,d.jsx)(p.A,{isOpen:!!g,onClose:v,content:g||{}})]})}},3840:(e,t,a)=>{a.d(t,{A:()=>o});var i=a(5043),n=a(9570),l=a(9059),s=a(5683),r=a(579);const o=e=>{let{children:t,onClick:a,variant:o="primary",className:c="",disabled:d=!1,loading:x=!1,icon:p,loadingText:h,type:m="button",title:u}=e;const[f,g]=(0,i.useState)("idle"),v=x?"loading":f,y={primary:"btn-primary",glass:"glass-interactive text-slate-200 hover:text-white",danger:"btn-danger",secondary:"btn-neutral"},b=y[o]||y.primary;return(0,r.jsx)(l.P.button,{type:m,disabled:d||"loading"===v,onClick:"submit"===m?void 0:async e=>{if("loading"!==v&&!d&&a)try{x||g("loading"),await a(e),x||(g("success"),navigator.vibrate&&navigator.vibrate([10,30,10]),setTimeout(()=>g("idle"),2e3))}catch(t){console.error("Button Action Failed:",t),x||(g("error"),navigator.vibrate&&navigator.vibrate(100),setTimeout(()=>g("idle"),2e3))}},onTapStart:()=>{!d&&"idle"===v&&navigator.vibrate&&navigator.vibrate(15)},title:u,variants:s.XW,whileHover:"idle"!==v||d?"rest":"hover",whileTap:"idle"!==v||d?"rest":"tap",className:"".concat("w-full py-3.5 px-4 rounded-xl font-bold transition-all flex items-center justify-center gap-2 shadow-lg relative overflow-hidden focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 focus:outline-none"," ").concat(b," ").concat(d?"opacity-50 cursor-not-allowed grayscale":""," ").concat(c),children:(0,r.jsx)(n.N,{mode:"wait",children:"loading"===v?(0,r.jsxs)(l.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),h&&(0,r.jsx)("span",{children:h})]},"loading"):"success"===v?(0,r.jsxs)(l.P.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:"flex items-center gap-2 text-white",children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),(0,r.jsx)("span",{children:"Done"})]},"success"):"error"===v?(0,r.jsxs)(l.P.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center gap-2 text-red-200",children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),(0,r.jsx)("span",{children:"Error"})]},"error"):(0,r.jsxs)(l.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"flex items-center gap-2",children:[t,p&&(0,r.jsx)("span",{className:"text-lg",children:p})]},"idle")})})}},6555:(e,t,a)=>{a.d(t,{h:()=>l});var i=a(5043),n=a(2136);const l=()=>{const[e,t]=(0,i.useState)(null),{t:a}=(0,n.o)(),l=(0,i.useCallback)(e=>{t(e)},[]),s=(0,i.useCallback)(()=>{t(null)},[]),r=(0,i.useCallback)(e=>{l({type:"alert",title:a("modalError"),body:e})},[l,a]),o=(0,i.useCallback)((e,t,a)=>{l({type:"confirm",title:e,body:t,onConfirm:a})},[l]),c=(0,i.useCallback)((e,t,a)=>{l({type:"prompt",title:e,body:t,onConfirm:a})},[l]),d=(0,i.useCallback)((e,t,a)=>{l({type:"qr-code",title:e,body:t,qrValue:a})},[l]);return{modalContent:e,showModal:l,hideModal:s,showErrorModal:r,showConfirmModal:o,showPromptModal:c,showQrCodeModal:d}}}}]);
//# sourceMappingURL=570.5851ab6c.chunk.js.map