"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[472],{2472:(e,t,a)=>{a.r(t),a.d(t,{default:()=>R});var s=a(2555),n=a(5043),r=a(9570),l=a(2465),i=a(570),o=a(5683),c=a(579);const d=e=>{let{children:t,title:a,icon:s,colSpan:i=1,className:d="",isCollapsible:h=!1,defaultCollapsed:x=!1}=e;const[m,p]=(0,n.useState)(x);return(0,c.jsxs)(l.P.div,{layout:!0,variants:o.lV,initial:"hidden",animate:"visible",exit:"exit",className:"glass-panel relative overflow-hidden flex flex-col ".concat(i>1?"md:col-span-".concat(i):""," ").concat(d),children:[(a||s||h)&&(0,c.jsxs)(l.P.div,{layout:"position",className:"flex items-center justify-between p-6 pb-2 z-20",children:[(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[s&&(0,c.jsx)("span",{className:"text-xl",children:s}),a&&(0,c.jsx)("h3",{className:"text-sm font-bold uppercase tracking-widest text-slate-400",children:a})]}),h&&(0,c.jsx)(l.P.button,{variants:o.XW,whileHover:"hover",whileTap:"tap",onClick:()=>p(!m),className:"p-2 rounded-full hover:bg-white/5 text-slate-500 hover:text-white transition-colors",children:(0,c.jsx)(l.P.svg,{animate:{rotate:m?180:0},className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),(0,c.jsx)(r.N,{initial:!1,mode:"wait",children:!m&&(0,c.jsx)(l.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{type:"spring",stiffness:300,damping:25},className:"flex-1 p-6 pt-2 z-10",children:t},"content")}),(0,c.jsx)("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-32 h-32 bg-gradient-to-tr from-white/5 to-transparent rounded-full blur-3xl pointer-events-none -z-0"})]})};var h=a(441),x=a(1915);const m=e=>{let{value:t}=e;const a=(0,h.z)(t,{mass:.8,stiffness:75,damping:15}),s=(0,x.G)(a,e=>Math.round(e).toLocaleString());return(0,n.useEffect)(()=>{a.set(t)},[a,t]),(0,c.jsx)(l.P.span,{children:s})},p={pink:{border:"border-pink-500/10 hover:border-pink-500/40",glow:"bg-pink-500/10",text:"text-pink-400",bar:"from-pink-500 to-rose-500"},blue:{border:"border-cyan-500/10 hover:border-cyan-500/40",glow:"bg-cyan-500/10",text:"text-cyan-400",bar:"from-cyan-500 to-blue-500"},green:{border:"border-emerald-500/10 hover:border-emerald-500/40",glow:"bg-emerald-500/10",text:"text-emerald-400",bar:"from-emerald-500 to-teal-500"},yellow:{border:"border-amber-500/10 hover:border-amber-500/40",glow:"bg-amber-500/10",text:"text-amber-400",bar:"from-amber-500 to-orange-500"}},u=e=>{let{title:t,value:a,total:s,showProgress:n,colorTheme:r="blue"}=e;const i=s>0?Math.round(a/s*100):0,o=p[r]||p.blue;return(0,c.jsxs)(d,{className:"group transition-colors duration-300 border ".concat(o.border," bg-slate-900/40"),children:[(0,c.jsx)("div",{className:"absolute -top-10 -right-10 w-40 h-40 rounded-full blur-3xl transition-all duration-700 opacity-20 group-hover:opacity-50 group-hover:scale-110 ".concat(o.glow," pointer-events-none")}),(0,c.jsx)("h3",{className:"text-[10px] font-bold uppercase tracking-widest mb-3 relative z-10 ".concat(o.text," opacity-90"),children:t}),(0,c.jsxs)("div",{className:"flex items-end gap-2 relative z-10",children:[(0,c.jsx)("span",{className:"text-5xl font-black text-white drop-shadow-lg tracking-tighter",children:(0,c.jsx)(m,{value:a})}),void 0!==s&&(0,c.jsxs)("span",{className:"text-slate-500 text-sm mb-1.5 font-bold",children:["/ ",s]})]}),n&&(0,c.jsx)("div",{className:"mt-5 h-2 w-full bg-white/5 rounded-full overflow-hidden relative z-10",children:(0,c.jsx)(l.P.div,{initial:{width:0},animate:{width:"".concat(i,"%")},transition:{duration:1.5,ease:"circOut"},className:"h-full bg-gradient-to-r shadow-[0_0_15px_currentColor] ".concat(o.bar)})})]})};var v=a(2136);const g=e=>{let{stats:t}=e;const{t:a}=(0,v.o)();return(0,c.jsxs)(l.P.div,{variants:o.tl,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,c.jsx)(u,{title:a("statsContained"),value:t.checkedIn,colorTheme:"green"}),(0,c.jsx)(u,{title:a("statsAwol"),value:t.onLeave,colorTheme:"yellow"}),(0,c.jsx)(u,{title:a("statsCaptured"),value:t.checkedIn+t.onLeave,total:t.total,showProgress:!0,colorTheme:"pink"}),(0,c.jsx)(u,{title:a("statsAtLarge"),value:t.valid,colorTheme:"blue"})]})};var f=a(108),b=a(3083),w=a(7734),j=a(2185),k=a(6026),y=a(6150),N=a(3839);const C=e=>{let{tickets:t}=e;const{t:a}=(0,v.o)();if(!t||!Array.isArray(t))return(0,c.jsx)("div",{className:"glass-panel h-64 flex items-center justify-center text-gray-500",children:"No data available"});const s=t.flatMap(e=>e.checkInHistory&&0!==e.checkInHistory.length?e.checkInHistory.filter(e=>"check-in"===e.action).map(e=>e.timestamp._seconds?new Date(1e3*e.timestamp._seconds):new Date(e.timestamp)):[]).sort((e,t)=>e-t);if(0===s.length)return(0,c.jsx)("div",{className:"glass-panel h-64 flex items-center justify-center text-gray-500",children:"No check-in data available yet"});const n=9e5,r=new Map;if(s.length>0){const e=new Date(Math.floor(s[0].getTime()/n)*n),t=new Date(Math.ceil(s[s.length-1].getTime()/n)*n);for(let a=e.getTime();a<=t.getTime();a+=n)r.set(a,0);s.forEach(e=>{const t=Math.floor(e.getTime()/n)*n;r.set(t,(r.get(t)||0)+1)})}const l=Array.from(r.entries()).map(e=>{let[t,a]=e;return{time:new Date(t).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),count:a}});return(0,c.jsxs)("div",{className:"glass-panel h-72 w-full p-6 relative overflow-hidden",children:[(0,c.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 opacity-20"}),(0,c.jsx)("h3",{className:"text-gray-400 text-sm font-bold uppercase tracking-widest mb-6 pl-2 border-l-4 border-purple-500",children:a("chartTitle")}),(0,c.jsx)(f.u,{width:"100%",height:"100%",children:(0,c.jsxs)(b.Q,{data:l,children:[(0,c.jsx)("defs",{children:(0,c.jsxs)("linearGradient",{id:"colorCount",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,c.jsx)("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.3}),(0,c.jsx)("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:0})]})}),(0,c.jsx)(w.d,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),(0,c.jsx)(j.W,{dataKey:"time",stroke:"#6b7280",tick:{fill:"#9ca3af",fontSize:12},tickLine:!1,axisLine:!1}),(0,c.jsx)(k.h,{stroke:"#6b7280",tick:{fill:"#9ca3af",fontSize:12},tickLine:!1,axisLine:!1,allowDecimals:!1}),(0,c.jsx)(y.m,{contentStyle:{backgroundColor:"#111827",borderColor:"#374151",borderRadius:"12px",color:"#fff"},itemStyle:{color:"#a78bfa"},cursor:{stroke:"#ffffff20",strokeWidth:2}}),(0,c.jsx)(N.G,{type:"monotone",dataKey:"count",stroke:"#8b5cf6",strokeWidth:3,fillOpacity:1,fill:"url(#colorCount)"})]})})]})};var L=a(1200),S=a(3840);const T=e=>{let{eventId:t,onTicketCreated:a,onApiError:s}=e;const[r,i]=(0,n.useState)(""),[o,d]=(0,n.useState)(""),[h,x]=(0,n.useState)(!1),{t:m}=(0,v.o)();return(0,c.jsxs)(l.P.div,{layout:!0,className:"glass-panel p-6 relative overflow-hidden group",children:[(0,c.jsx)("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-32 h-32 bg-gradient-to-tr from-violet-500/20 via-pink-500/20 to-blue-500/20 rounded-full blur-3xl group-hover:scale-110 transition-transform duration-500"}),(0,c.jsxs)("div",{className:"relative z-10",children:[(0,c.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,c.jsx)("div",{className:"p-3 bg-gradient-to-br from-violet-500/20 to-pink-500/20 rounded-xl text-white",children:(0,c.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})})}),(0,c.jsx)("h2",{className:"text-xl font-bold text-white",children:m("createTitle")})]}),(0,c.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),x(!0);try{const e=await(0,L.Z2)(t,r,o);a(e),i(""),d("")}catch(n){s(n.message)}finally{x(!1)}},className:"space-y-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider ml-1",children:m("labelIdentity")}),(0,c.jsx)(l.P.input,{whileFocus:{scale:1.01,borderColor:"#ec4899"},type:"text",placeholder:m("placeholderIdentity"),value:r,onChange:e=>i(e.target.value),required:!0,className:"w-full bg-black/50 border border-gray-700 rounded-xl px-4 py-3 text-white placeholder-gray-600 focus:ring-2 focus:ring-pink-500 focus:border-transparent outline-none transition-all hover:border-gray-600"})]}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider ml-1",children:m("labelEmail")}),(0,c.jsx)(l.P.input,{whileFocus:{scale:1.01,borderColor:"#ec4899"},type:"email",placeholder:m("placeholderEmail"),value:o,onChange:e=>d(e.target.value),required:!0,className:"w-full bg-black/50 border border-gray-700 rounded-xl px-4 py-3 text-white placeholder-gray-600 focus:ring-2 focus:ring-pink-500 focus:border-transparent outline-none transition-all hover:border-gray-600"})]}),(0,c.jsx)(S.A,{type:"submit",loading:h,icon:"\u2728",loadingText:m("btnProcessing")||"Processing...",children:m("btnCreate")})]})]})]})},I=e=>{let{status:t}=e;const a={"checked-in":{style:"bg-green-500/10 text-green-400 border-green-500/20",icon:(0,c.jsx)("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}),label:"CHECKED IN"},"on-leave":{style:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20",icon:(0,c.jsx)("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),label:"ON LEAVE"},valid:{style:"bg-blue-500/10 text-blue-400 border-blue-500/20",icon:(0,c.jsx)("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),label:"VALID"}}[t]||{style:"bg-gray-700 text-gray-400",icon:null,label:t};return(0,c.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 text-[10px] font-bold rounded-md border ".concat(a.style," transition-colors"),children:[a.icon,a.label]})},E=(0,n.memo)(e=>{let{ticket:t,index:a,onCheckIn:s,onShowQR:n,onEdit:r,onDelete:i}=e;const{t:d}=(0,v.o)();return(0,c.jsxs)(l.P.tr,{layout:!0,variants:o.tE,initial:"hidden",animate:"visible",exit:"exit",className:"border-b border-white/5 hover:bg-white/5 transition-colors",children:[(0,c.jsx)("td",{className:"p-4 text-slate-500 font-mono text-xs",children:a}),(0,c.jsx)("td",{className:"p-4",children:(0,c.jsx)(I,{status:t.status})}),(0,c.jsxs)("td",{className:"p-4 font-medium text-slate-200 selectable",children:[t.attendeeName,(0,c.jsx)("br",{}),(0,c.jsx)("span",{className:"text-slate-500 text-sm selectable",children:t.attendeeEmail})]}),(0,c.jsxs)("td",{className:"p-4 text-slate-600 text-xs font-mono uppercase tracking-wider selectable",children:[t.id.substring(0,8),"..."]}),(0,c.jsx)("td",{className:"p-4 text-right",children:(0,c.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,c.jsx)(l.P.button,{variants:o.XW,whileHover:"hover",whileTap:"tap",onClick:()=>n(t.id,t.attendeeName),className:"p-2 text-slate-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors",title:d("btnMark"),"aria-label":"View QR Code",children:(0,c.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})})}),"checked-in"!==t.status&&(0,c.jsxs)(l.P.button,{variants:o.XW,whileHover:"hover",whileTap:"tap",onClick:()=>s(t),className:"px-3 py-1.5 animated-gradient-bg text-white text-xs font-bold rounded-lg flex items-center gap-1.5",title:d("btnCapture"),"aria-label":"Check In",children:[(0,c.jsx)("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),d("btnCapture").toUpperCase()]}),(0,c.jsx)(l.P.button,{variants:o.XW,whileHover:"hover",whileTap:"tap",onClick:()=>r(t),className:"p-2 text-sky-400 hover:text-sky-300 hover:bg-sky-500/10 rounded-lg transition-colors",title:d("btnRetcon"),"aria-label":"Edit Ticket",children:(0,c.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,c.jsx)(l.P.button,{variants:o.XW,whileHover:"hover",whileTap:"tap",onClick:()=>i(t),className:"p-2 text-rose-400 hover:text-rose-300 hover:bg-rose-500/10 rounded-lg transition-colors",title:d("btnPurge"),"aria-label":"Delete Ticket",children:(0,c.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]})}),M=e=>{let{ticket:t,index:a,onCheckIn:s,onShowQR:n,onEdit:r,onDelete:i}=e;return(0,c.jsxs)(l.P.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"glass-panel p-5 mb-6 relative overflow-hidden border-l-0 rounded-3xl",children:[(0,c.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-1.5 ".concat("checked-in"===t.status?"bg-emerald-500 shadow-[0_0_15px_rgba(16,185,129,0.6)]":"bg-violet-500 shadow-[0_0_15px_rgba(139,92,246,0.6)]")}),(0,c.jsxs)("div",{className:"flex justify-between items-start mb-3 pl-3",children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("h3",{className:"font-bold text-white text-lg tracking-tight selectable",children:[(0,c.jsxs)("span",{className:"text-slate-500 mr-2 text-sm",children:["#",a]}),t.attendeeName]}),(0,c.jsx)("p",{className:"text-slate-400 text-sm selectable",children:t.attendeeEmail})]}),(0,c.jsx)(I,{status:t.status})]}),(0,c.jsx)("div",{className:"pl-3 mb-5",children:(0,c.jsxs)("p",{className:"text-[10px] text-slate-500 font-mono uppercase tracking-widest selectable",children:["ID: ",t.id]})}),(0,c.jsxs)("div",{className:"flex gap-3 pl-3 pb-1",children:[(0,c.jsx)("button",{onClick:()=>n(t.id,t.attendeeName),className:"flex-1 glass-interactive text-slate-300 hover:text-white text-sm font-semibold py-2.5 px-4 rounded-xl whitespace-nowrap","aria-label":"View QR Code",children:"QR Code"}),"checked-in"!==t.status&&(0,c.jsx)("button",{onClick:()=>s(t),className:"flex-1 animated-gradient-bg text-white text-sm font-bold py-2.5 px-4 rounded-xl whitespace-nowrap","aria-label":"Check In",children:"Check In"}),(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)("button",{onClick:()=>r(t),className:"glass-interactive w-10 flex items-center justify-center rounded-xl text-sky-400 hover:text-sky-300","aria-label":"Edit Ticket",children:(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),(0,c.jsx)("button",{onClick:()=>i(t),className:"glass-interactive w-10 flex items-center justify-center rounded-xl text-rose-400 hover:text-rose-300","aria-label":"Delete Ticket",children:(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]})};var A=a(7302);const P=()=>(0,c.jsxs)("div",{className:"glass-panel p-6 rounded-3xl border border-white/5 bg-slate-900/40 backdrop-blur-xl space-y-6",children:[(0,c.jsxs)("div",{className:"flex gap-4",children:[(0,c.jsx)(A.A,{height:"48px",width:"100%",className:"rounded-xl"}),(0,c.jsx)(A.A,{height:"48px",width:"120px",className:"rounded-xl"})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/5",children:[(0,c.jsx)(A.A,{height:"16px",width:"30px"}),(0,c.jsx)(A.A,{height:"16px",width:"60px"}),(0,c.jsx)(A.A,{height:"16px",width:"100px"}),(0,c.jsx)(A.A,{height:"16px",width:"80px"}),(0,c.jsx)(A.A,{height:"16px",width:"80px"})]}),(0,c.jsx)("div",{className:"space-y-0",children:[...Array(5)].map((e,t)=>(0,c.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-white/5 last:border-0",children:[(0,c.jsxs)("div",{className:"flex items-center gap-4",children:[(0,c.jsx)(A.A,{height:"16px",width:"20px"}),(0,c.jsx)(A.A,{height:"24px",width:"80px",className:"rounded-full"}),(0,c.jsxs)("div",{children:[(0,c.jsx)(A.A,{height:"20px",width:"150px",className:"mb-2"}),(0,c.jsx)(A.A,{height:"14px",width:"200px"})]})]}),(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)(A.A,{height:"36px",width:"36px",className:"rounded-xl"}),(0,c.jsx)(A.A,{height:"36px",width:"100px",className:"rounded-xl"}),(0,c.jsx)(A.A,{height:"36px",width:"36px",className:"rounded-xl"}),(0,c.jsx)(A.A,{height:"36px",width:"36px",className:"rounded-xl"})]})]},t))})]}),B={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},H=e=>{let{filteredTickets:t,isLoading:a,searchTerm:s,setSearchTerm:i,onCheckIn:o,onShowQR:d,onEdit:h,onDelete:x,onImport:m}=e;const{t:p}=(0,v.o)(),[u,g]=(0,n.useState)(50),[f,b]=(0,n.useState)(!1);(0,n.useEffect)(()=>{g(50)},[s]);const w=t.slice(0,u),j=u<t.length,k=n.useRef(null);(0,n.useEffect)(()=>{const e=new IntersectionObserver(e=>{e[0].isIntersecting&&j&&!f&&(b(!0),setTimeout(()=>{g(e=>e+50),b(!1)},500))},{threshold:.1}),t=k.current;return t&&e.observe(t),()=>{t&&e.unobserve(t)}},[j,f]);return(0,c.jsxs)(l.P.div,{variants:B,initial:"hidden",animate:"visible",className:"glass-panel p-6 rounded-3xl border border-white/5 bg-slate-900/40 backdrop-blur-xl",children:[(0,c.jsxs)("div",{className:"relative mb-6 flex flex-wrap gap-4",children:[(0,c.jsxs)("div",{className:"relative flex-1 min-w-[200px]",children:[(0,c.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,c.jsx)("svg",{className:"h-5 w-5 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,c.jsx)("input",{type:"text",placeholder:p("searchPlaceholder"),value:s,onChange:e=>i(e.target.value),className:"w-full glass-input pl-10 pr-10"}),s&&(0,c.jsx)("button",{onClick:()=>i(""),className:"absolute inset-y-0 right-0 pr-3 pl-3 flex items-center text-slate-500 hover:text-white transition-colors","aria-label":"Clear Search",children:(0,c.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsxs)("label",{className:"glass-interactive px-4 py-3 text-white rounded-xl font-bold flex items-center gap-2 whitespace-nowrap cursor-pointer",children:[(0,c.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),p("qaImport"),(0,c.jsx)("input",{type:"file",accept:".csv",onChange:m,className:"hidden"})]}),(0,c.jsxs)("button",{onClick:()=>{const e=["ID,Name,Email,Status,LastActionTime,LastActionBy",...t.map(e=>{const t=e.checkInHistory&&e.checkInHistory.length>0?e.checkInHistory[e.checkInHistory.length-1]:null;return[e.id,'"'.concat(e.attendeeName,'"'),e.attendeeEmail,e.status,t?new Date(1e3*t.timestamp._seconds||t.timestamp).toLocaleString():"",t?t.scannedBy:""].join(",")})];!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"export.csv";if(!e||!e.length)return;const a="data:text/csv;charset=utf-8,"+e.join("\n"),s=encodeURI(a),n=document.createElement("a");n.setAttribute("href",s),n.setAttribute("download",t),document.body.appendChild(n),n.click(),document.body.removeChild(n)}(e,"tickets_export.csv")},className:"glass-interactive px-4 py-3 text-white rounded-xl font-bold flex items-center gap-2 whitespace-nowrap",children:[(0,c.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),p("btnExportCsv")]})]})]}),a?(0,c.jsx)(P,{}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,c.jsxs)("table",{className:"w-full text-left border-collapse relative",children:["                        ",(0,c.jsx)("thead",{className:"sticky top-0 bg-slate-950/70 backdrop-blur-xl z-10 border-b border-white/10 text-slate-400 text-sm uppercase tracking-wider shadow-sm",children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{className:"p-4 font-semibold rounded-tl-lg w-16",children:"#"}),(0,c.jsx)("th",{className:"p-4 font-semibold",children:p("colStatus")}),(0,c.jsx)("th",{className:"p-4 font-semibold",children:p("colAttendee")}),(0,c.jsx)("th",{className:"p-4 font-semibold",children:p("colTicketId")}),(0,c.jsx)("th",{className:"p-4 text-right font-semibold rounded-tr-lg",children:p("colActions")})]})}),(0,c.jsx)("tbody",{className:"divide-y divide-gray-800/50",children:(0,c.jsx)(r.N,{mode:"popLayout",children:w.map((e,t)=>(0,c.jsx)(E,{index:t+1,ticket:e,onCheckIn:o,onShowQR:d,onEdit:h,onDelete:x},e.id))})})]})}),(0,c.jsx)("div",{className:"md:hidden space-y-4",children:(0,c.jsx)(r.N,{mode:"popLayout",children:w.map((e,t)=>(0,c.jsx)(M,{index:t+1,ticket:e,onCheckIn:o,onShowQR:d,onEdit:h,onDelete:x},e.id))})}),(0,c.jsx)("div",{ref:k,className:"h-16 w-full flex justify-center items-center",children:f&&(0,c.jsx)("div",{className:"w-6 h-6 border-2 border-white/20 border-t-white rounded-full animate-spin"})}),!a&&0===t.length&&(0,c.jsxs)("div",{className:"text-center py-12",children:[(0,c.jsx)("div",{className:"text-4xl mb-3",children:"\ud83d\udd0d"}),(0,c.jsx)("h3",{className:"text-lg font-medium text-white",children:p("emptyTitle")}),(0,c.jsx)("p",{className:"text-gray-500",children:p("emptyDesc")})]})]})]})},D=e=>{let{status:t,error:a,isSyncing:s}=e;const{t:n}=(0,v.o)();let r="#22c55e",i=n("liveConnected"),o={scale:[1,1.2,1],opacity:[.7,1,.7]};return"error"===t?(r="#ef4444",i=n("liveOffline"),o={opacity:[1,.5,1]}):s&&(r="#3b82f6",i="Syncing...",o={scale:[1,1.3,1],opacity:[.8,1,.8]}),(0,c.jsxs)("div",{className:"relative group flex items-center gap-2",children:[(0,c.jsx)(l.P.div,{animate:o,transition:{duration:s?1:2,repeat:1/0,ease:"easeInOut"},className:"w-3 h-3 rounded-full",style:{backgroundColor:r,boxShadow:"0 0 8px ".concat(r)}}),(0,c.jsx)("span",{className:"text-sm text-gray-400",children:i}),"error"===t&&a&&(0,c.jsx)("div",{className:"absolute bottom-full mb-2 w-max max-w-xs bg-red-900 text-white text-xs rounded py-1 px-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none left-1/2 -translate-x-1/2 z-10 shadow-lg",children:a})]})};var W=a(28);var z=a(6555),O=a(6089);const R=()=>{const{modalContent:e,showModal:t,hideModal:h,showErrorModal:x,showConfirmModal:m,showPromptModal:p,showQrCodeModal:u}=(0,z.h)(),{eventId:f}=(0,O._)(),{t:b}=(0,v.o)(),[w,j]=(0,n.useState)(Date.now());(0,n.useEffect)(()=>{if(!f)return;const e=setInterval(async()=>{try{const e=await(0,L.qu)(f,w);if(e&&e.length>0){const a=e[e.length-1];j(a.timestamp),t({type:"alert",title:"\u26a0\ufe0f Scanner Reported Issue",body:"A volunteer reported an issue at ".concat(new Date(a.timestamp).toLocaleTimeString(),". Please check the gate."),onConfirm:h})}}catch(e){console.warn("Alert poll failed",e)}},5e3);return()=>clearInterval(e)},[f,w,t,h]);const{tickets:k,isLoading:y,isSyncing:N,connectionStatus:S,connectionError:I,handleTicketCreated:E,handleManualCheckIn:M,handleUpdateTicket:A,handleDeleteTicket:P,stats:B}=((e,t)=>{const[a,r]=(0,n.useState)([]),[l,i]=(0,n.useState)(!1),[o,c]=(0,n.useState)(!1),[d,h]=(0,n.useState)("disconnected"),[x,m]=(0,n.useState)(null),[p,u]=(0,n.useState)(5e3);(0,n.useEffect)(()=>{let e;const t=()=>{u(5e3),clearTimeout(e),e=setTimeout(()=>u(3e4),6e4)};return window.addEventListener("mousemove",t),window.addEventListener("keydown",t),window.addEventListener("click",t),t(),()=>{window.removeEventListener("mousemove",t),window.removeEventListener("keydown",t),window.removeEventListener("click",t),clearTimeout(e)}},[]),(0,n.useEffect)(()=>{if(!e)return h("disconnected"),r([]),i(!1),void c(!1);const t=async function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?c(!0):(i(!0),h("connecting"),m(null));try{const a=await(0,L.oP)(e),s=Array.isArray(a)?a:[];r(e=>JSON.stringify(e)===JSON.stringify(s)?e:s),t||h("connected")}catch(a){console.error("API Error:",a),t||(h("error"),m(a.message),r([]))}finally{t?c(!1):i(!1)}};t();const a=setInterval(()=>{t(!0)},p);return()=>clearInterval(a)},[e,p]);const v=(0,n.useCallback)(e=>{r(t=>[...t,e.ticket])},[]),g=(0,n.useCallback)(async a=>{if(e)try{await(0,L.Rf)(e,a.id,"check-in"),r(e=>e.map(e=>e.id===a.id?(0,s.A)((0,s.A)({},e),{},{status:"checked-in"}):e))}catch(n){t("Manual check-in failed.")}},[e,t]),f=(0,n.useCallback)(async a=>{try{await(0,L.EZ)(e,a.id,a),r(e=>e.map(e=>e.id===a.id?a:e))}catch(s){t("Failed to update ticket.")}},[e,t]),b=(0,n.useCallback)(async a=>{try{await(0,L.cC)(e,a.id),r(e=>e.filter(e=>e.id!==a.id))}catch(s){t("Failed to delete ticket.")}},[e,t]),w=(0,n.useMemo)(()=>({total:a.length,checkedIn:a.filter(e=>"checked-in"===e.status).length,onLeave:a.filter(e=>"on-leave"===e.status).length,valid:a.filter(e=>"valid"===e.status).length}),[a]);return{tickets:a,isLoading:l,connectionStatus:d,connectionError:x,handleTicketCreated:v,handleManualCheckIn:g,handleUpdateTicket:f,handleDeleteTicket:b,stats:w,isSyncing:o}})(f,x),[R,V]=(0,n.useState)(""),[Q,_]=(0,n.useState)(""),[F,J]=(0,n.useState)(()=>JSON.parse(localStorage.getItem("searchHistory")||"[]")),[q,U]=(0,n.useState)(!1),[X,G]=(0,n.useState)(()=>{const e=localStorage.getItem("dashboardLayout");return e?JSON.parse(e):{stats:!0,chart:!0}}),[K,Z]=(0,n.useState)(!1),[Y,$]=(0,n.useState)(()=>JSON.parse(localStorage.getItem("actionStats")||"{}"));(0,n.useEffect)(()=>{localStorage.setItem("dashboardLayout",JSON.stringify(X))},[X]),(0,n.useEffect)(()=>{const e=setTimeout(()=>{_(R),R.trim().length>2&&J(e=>{const t=[R,...e.filter(e=>e!==R)].slice(0,5);return localStorage.setItem("searchHistory",JSON.stringify(t)),t})},150);return()=>{clearTimeout(e)}},[R]);const ee=e=>{const t=(0,s.A)((0,s.A)({},Y),{},{[e]:(Y[e]||0)+1});$(t),localStorage.setItem("actionStats",JSON.stringify(t))},te=(Object.keys(Y).reduce((e,t)=>Y[e]>Y[t]?e:t,null),(0,n.useMemo)(()=>k.filter(e=>{var t,a;return((null===(t=e.attendeeName)||void 0===t?void 0:t.toLowerCase())||"").includes(Q.toLowerCase())||((null===(a=e.attendeeEmail)||void 0===a?void 0:a.toLowerCase())||"").includes(Q.toLowerCase())||e.id.toLowerCase().includes(Q.toLowerCase())}),[k,Q]));return(0,c.jsxs)(i.A,{children:[(0,c.jsxs)("header",{className:"sticky top-4 z-30 mx-4 sm:mx-6 rounded-3xl border border-white/10 bg-slate-900/60 backdrop-blur-3xl px-6 py-4 flex justify-between items-center shadow-2xl mb-4",children:[(0,c.jsx)("div",{className:"w-8 xl:hidden"}),(0,c.jsxs)("div",{className:"flex items-center gap-4 overflow-hidden",children:[(0,c.jsx)("h2",{className:"text-xl font-semibold text-white truncate flex items-center gap-2",children:f?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-slate-400 text-xs hidden sm:inline uppercase tracking-widest font-bold",children:b("headerEvent")}),(0,c.jsx)("span",{className:"rainbow-text text-2xl",children:f})]}):(0,c.jsx)("span",{className:"text-slate-500 italic",children:b("headerSelect")})}),(0,c.jsx)(D,{status:S,error:I,isSyncing:N})]}),f&&(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsxs)("div",{className:"relative group hidden md:block",children:[(0,c.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,c.jsx)("svg",{className:"h-4 w-4 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,c.jsx)("input",{type:"text",placeholder:b("searchPlaceholder")||"Search...",value:R,onChange:e=>V(e.target.value),onFocus:()=>U(!0),onBlur:()=>setTimeout(()=>U(!1),200),className:"glass-input pl-9 pr-4 py-2 w-48 focus:w-64 transition-all text-sm rounded-xl"}),(0,c.jsx)(r.N,{children:q&&F.length>0&&(0,c.jsx)(l.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute top-full left-0 right-0 mt-2 bg-slate-900 border border-white/10 rounded-xl shadow-xl overflow-hidden z-50",children:(0,c.jsxs)("div",{className:"p-2",children:[(0,c.jsx)("div",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-wider mb-1 px-2",children:"Recent"}),F.map((e,t)=>(0,c.jsxs)("button",{onClick:()=>V(e),className:"w-full text-left px-3 py-2 text-sm text-slate-300 hover:bg-white/10 rounded-lg transition-colors flex items-center gap-2",children:[(0,c.jsx)("span",{className:"text-slate-500",children:"\u21ba"})," ",e]},t))]})})})]}),(0,c.jsx)(l.P.button,{variants:o.XW,whileHover:"hover",whileTap:"tap",onClick:()=>Z(!K),className:"glass-interactive px-4 py-2 text-sm font-medium transition-colors rounded-xl flex items-center gap-2 ".concat(K?"bg-white/20 text-white":"text-slate-300 hover:text-white"),title:"Customize Dashboard",children:(0,c.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),(0,c.jsx)(l.P.button,{variants:o.XW,whileHover:"hover",whileTap:"tap",onClick:async()=>{try{const{url:e}=await(0,L.lI)();e?(await navigator.clipboard.writeText("".concat(e,"/scanner")),alert(b("alertLinkCopied"))):alert(b("errorBackendURL"))}catch(e){console.error(e)}},className:"glass-interactive px-4 py-2 text-sm font-medium text-slate-300 hover:text-white flex items-center gap-2 shadow-lg",title:b("copyScannerLink"),children:(0,c.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})})}),(0,c.jsxs)(l.P.button,{variants:o.XW,whileHover:"hover",whileTap:"tap",onClick:async()=>{if(ee("scanner"),f)try{const e=await(0,L.qg)(),{url:t,localUrl:a}=await(0,L.lI)();let s=t,n="";if(a&&t&&a!==t){window.confirm("\ud83d\ude80 ".concat(b("scannerSpeedOpt"),"\n\n").concat(b("scannerLocalQ",a),"\n\n\u2705 ").concat(b("scannerLocalYes"),"\n\u274c ").concat(b("scannerLocalNo")))?(s=a,n=" [".concat(b("scannerLocalMode"),"]")):n=" [".concat(b("scannerPublicMode"),"]")}else!t&&a&&(s=a,n=" [".concat(b("scannerLocalOnly"),"]"));if(!s)throw new Error(b("errorBackendURL"));const r="".concat(b("headerEvent")," ").concat(f).concat(n,". ").concat(b("scannerConfigPrompt")),l={eventId:f,apiBaseUrl:s,token:e};u(b("qaScanner"),r,JSON.stringify(l))}catch(e){console.error(e),x("".concat(b("setupFailed"),": ").concat(e.message,"."))}else x(b("errorNoEventSelected"))},className:"animated-gradient-bg px-4 py-2 rounded-xl text-sm font-bold flex items-center gap-2",children:[(0,c.jsx)("span",{className:"text-lg",children:"\ud83d\udcf1"}),(0,c.jsx)("span",{className:"hidden sm:inline",children:b("qaScanner")})]})]})]}),(0,c.jsxs)("main",{className:"flex-1 overflow-y-auto p-6 md:p-10 custom-scrollbar relative",children:[(0,c.jsx)("div",{className:"fixed inset-0 pointer-events-none ambient-glow -z-10"}),(0,c.jsx)(r.N,{mode:"wait",children:f?(0,c.jsxs)(l.P.div,{variants:o.tl,initial:"hidden",animate:"visible",exit:{opacity:0,y:20,transition:{duration:.2}},className:"max-w-7xl mx-auto space-y-10 pb-24",children:[(0,c.jsx)(r.N,{children:K&&(0,c.jsx)(l.P.div,{initial:{height:0,opacity:0,marginBottom:0},animate:{height:"auto",opacity:1,marginBottom:32},exit:{height:0,opacity:0,marginBottom:0},className:"overflow-hidden",children:(0,c.jsx)(d,{title:"Customize Layout",icon:"\ud83c\udfa8",className:"bg-slate-800/80",children:(0,c.jsx)("div",{className:"flex gap-6 p-2",children:["stats","chart"].map(e=>(0,c.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("input",{type:"checkbox",checked:X[e],onChange:()=>G((0,s.A)((0,s.A)({},X),{},{[e]:!X[e]})),className:"sr-only peer"}),(0,c.jsx)("div",{className:"w-10 h-6 bg-slate-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]}),(0,c.jsx)("span",{className:"text-sm font-medium text-white capitalize",children:e})]},e))})})})}),(0,c.jsx)(r.N,{children:X.stats&&(0,c.jsx)(l.P.section,{variants:o.tE,initial:"hidden",animate:"visible",exit:{opacity:0,height:0,overflow:"hidden"},children:(0,c.jsx)(g,{stats:B})},"stats")}),(0,c.jsx)(r.N,{children:X.chart&&(0,c.jsx)(l.P.section,{variants:o.tE,initial:"hidden",animate:"visible",exit:{opacity:0,height:0,overflow:"hidden"},children:(0,c.jsx)(C,{tickets:k})},"chart")}),(0,c.jsxs)(l.P.div,{variants:o.tE,className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[(0,c.jsx)("div",{className:"xl:col-span-1 space-y-8",children:(0,c.jsx)(T,{eventId:f,onTicketCreated:e=>{E(e),u(b("modalQrCodeTitle"),"".concat(b("modalQrCodeBodyPrefix")," ").concat(e.ticket.attendeeName),e.ticket.id)},onApiError:x})}),(0,c.jsx)("div",{className:"xl:col-span-2",children:(0,c.jsx)(H,{filteredTickets:te,isLoading:y,searchTerm:R,setSearchTerm:V,onCheckIn:e=>{m(b("modalCheckInTitle"),b("modalCheckInBody",e.attendeeName),async()=>{await M(e),h()})},onShowQR:(e,t)=>u(b("modalQrCodeTitle"),"".concat(b("modalQrCodeBodyPrefix")," ").concat(t),e),onEdit:e=>{t({type:"edit-ticket",title:b("modalEditTicketTitle"),body:b("modalEditTicketBody",e.attendeeName),ticket:e,onConfirm:async e=>{await A(e),h()}})},onDelete:e=>{m(b("modalDeleteTicketTitle"),b("modalDeleteTicketBody",e.attendeeName),async()=>{await P(e),h()})},onImport:e=>{ee("import");const t=e.target.files[0];if(!t)return;const s=new FileReader;s.onload=async e=>{const t=e.target.result;try{const e=(e=>{if(!e)return[];const t=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n").filter(e=>e.trim());if(t.length<2)return[];const a=e=>{const t=[];let a="",s=!1;for(let n=0;n<e.length;n++){const r=e[n];'"'===r?s&&'"'===e[n+1]?(a+='"',n++):s=!s:","!==r||s?a+=r:(t.push(a.trim()),a="")}return t.push(a.trim()),t.map(e=>e.replace(/^"|"$/g,""))};let s=-1,n=-1,r=-1;for(let i=0;i<Math.min(5,t.length);i++){const e=a(t[i].toLowerCase()),l=e.findIndex(e=>e.includes("name")||e.includes("\u59d3\u540d")||e.includes("attendee")),o=e.findIndex(e=>e.includes("email")||e.includes("mail")||e.includes("\u4fe1\u7bb1"));if(-1!==l&&-1!==o){s=i,n=l,r=o;break}}-1===s&&(s=t[0].includes("@")?-1:0,n=0,r=1);const l=[];for(let i=s+1;i<t.length;i++){const e=a(t[i]);if(e.length>=2){const t=e[n],a=e[r];t&&a&&a.includes("@")&&l.push({attendeeName:t,attendeeEmail:a})}}return l})(t);if(0===e.length)throw new Error(b("errorNoValidAttendees"));m(b("qaImport"),b("importPrompt",e.length),async()=>{try{const t=await Promise.resolve().then(a.bind(a,1200)).then(t=>t.importAttendees(f,e));alert(t.message)}catch(t){x("".concat(b("importFailed"),": ").concat(t.message))}finally{h()}})}catch(s){x("".concat(b("errorCsvParse"),": ").concat(s.message))}},s.readAsText(t),e.target.value=null}},f)})]})]},"dashboard"):(0,c.jsx)(l.P.div,{className:"h-full flex flex-col items-center justify-center p-4",exit:{opacity:0,scale:.95,filter:"blur(10px)",transition:{duration:.3}},children:(0,c.jsxs)(l.P.div,{variants:o.lV,initial:"hidden",animate:"visible",whileHover:"hover",className:"glass-panel p-12 rounded-[2.5rem] max-w-lg w-full text-center border border-white/10 relative overflow-hidden",children:[(0,c.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-violet-500/10 via-transparent to-pink-500/10 pointer-events-none"}),(0,c.jsx)("div",{className:"text-8xl mb-6 opacity-30 animate-pulse grayscale filter blur-sm",children:"\ud83c\udf9f\ufe0f"}),(0,c.jsx)("h3",{className:"text-3xl font-black text-white mb-3 tracking-tight",children:b("limboTitle")}),(0,c.jsx)("p",{className:"text-lg text-slate-400 leading-relaxed",children:b("limboDesc")})]})},"limbo")})]}),(0,c.jsx)(W.A,{isOpen:!!e,onClose:h,content:e||{}})]})}}}]);
//# sourceMappingURL=472.f08c7a71.chunk.js.map