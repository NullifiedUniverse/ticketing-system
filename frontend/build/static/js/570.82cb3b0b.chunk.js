"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[570],{28:(e,t,a)=>{a.d(t,{A:()=>x});var l=a(2555),i=(a(5043),a(9570)),s=a(2465),n=a(1614),r=a(2136),o=a(5683),c=a(3840),d=a(579);const x=e=>{let{isOpen:t,onClose:a,content:x}=e;const{t:p}=(0,r.o)();return(0,d.jsx)(i.N,{children:t&&(0,d.jsx)(s.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:.2}},className:"fixed inset-0 bg-black/80 backdrop-blur-md flex justify-center items-center z-50 p-4",onClick:a,children:(0,d.jsxs)(s.P.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:o.Ux.spring,className:"glass-panel w-full max-w-md border border-white/10",onClick:e=>e.stopPropagation(),children:[(0,d.jsxs)("div",{className:"p-6 border-b border-purple-500/20 flex justify-between items-center",children:[(0,d.jsx)("h3",{className:"text-xl font-bold text-white tracking-wider",children:(null===x||void 0===x?void 0:x.title)||p("modalDefaultTitle")}),(0,d.jsx)(s.P.button,{whileHover:{scale:1.05},whileTap:{scale:.9},onClick:a,"aria-label":"Close Modal",className:"text-gray-400 hover:text-white text-2xl w-8 h-8 flex items-center justify-center rounded-full hover:bg-white/10 transition-colors",children:"\xd7"})]}),(0,d.jsxs)("div",{className:"p-6 text-center",children:[x.contentComponent?x.contentComponent():(0,d.jsx)("p",{className:"text-gray-300 mb-6",children:x.body}),("qr-code"===x.type||"setup-qr"===x.type)&&(0,d.jsx)("div",{className:"flex justify-center bg-white p-4 rounded-lg",children:(0,d.jsx)(n.Xe,{value:x.qrValue,size:256,level:"H"})}),"alert"===x.type&&(0,d.jsx)("div",{className:"flex justify-center gap-4 mt-4",children:(0,d.jsx)(c.A,{onClick:a,className:"w-auto px-6 py-2",children:p("btnOk")})}),"confirm"===x.type&&(0,d.jsxs)("div",{className:"flex justify-center gap-4 mt-4",children:[(0,d.jsx)(c.A,{variant:"secondary",onClick:a,className:"w-auto px-6 py-2 bg-gray-700 hover:bg-gray-600 border-none",children:p("btnCancel")}),(0,d.jsx)(c.A,{onClick:()=>{x.onConfirm(),a()},className:"w-auto px-6 py-2",children:p("btnConfirm")})]}),"prompt"===x.type&&(0,d.jsxs)("div",{className:"flex flex-col items-center gap-4 mt-4",children:[(0,d.jsx)("input",{type:"text",id:"prompt-input",className:"w-full bg-black border border-gray-700 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-purple-500 focus:outline-none transition-all"}),(0,d.jsxs)("div",{className:"flex justify-center gap-4 mt-4",children:[(0,d.jsx)(c.A,{variant:"secondary",onClick:a,className:"w-auto px-6 py-2 bg-gray-700 hover:bg-gray-600 border-none",children:p("btnCancel")}),(0,d.jsx)(c.A,{onClick:()=>{const e=document.getElementById("prompt-input");x.onConfirm(e.value),a()},className:"w-auto px-6 py-2",children:p("btnConfirm")})]})]}),"edit-ticket"===x.type&&(0,d.jsxs)("div",{className:"flex flex-col items-center gap-4 mt-4",children:[(0,d.jsx)("input",{type:"text",id:"edit-name-input",defaultValue:x.ticket.attendeeName,className:"w-full bg-black border border-gray-700 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-purple-500 focus:outline-none transition-all"}),(0,d.jsx)("input",{type:"email",id:"edit-email-input",defaultValue:x.ticket.attendeeEmail,className:"w-full bg-black border border-gray-700 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-purple-500 focus:outline-none transition-all"}),(0,d.jsxs)("div",{className:"flex justify-center gap-4 mt-4",children:[(0,d.jsx)(c.A,{variant:"secondary",onClick:a,className:"w-auto px-6 py-2 bg-gray-700 hover:bg-gray-600 border-none",children:p("btnCancel")}),(0,d.jsx)(c.A,{onClick:()=>{const e=document.getElementById("edit-name-input"),t=document.getElementById("edit-email-input");x.onConfirm((0,l.A)((0,l.A)({},x.ticket),{},{attendeeName:e.value,attendeeEmail:t.value})),a()},className:"w-auto px-6 py-2",children:p("btnSave")})]})]})]})]})})})}},570:(e,t,a)=>{a.d(t,{A:()=>v});var l=a(5043),i=a(2465),s=a(9570),n=a(6089),r=a(2136),o=a(5683),c=a(3840),d=a(579);const x=e=>{let{onNewEvent:t,onDeleteEvent:a,onRaffle:x}=e;const{events:p,loading:m,eventId:h,selectEvent:u}=(0,n._)(),{t:v,cycleLanguage:g,language:b}=(0,r.o)(),[f,y]=(0,l.useState)(!1);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"xl:hidden fixed top-4 left-4 z-50",children:(0,d.jsx)(i.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>y(!f),"aria-label":f?"Close Sidebar":"Open Sidebar",className:"bg-gray-900/80 backdrop-blur text-white p-2.5 rounded-xl border border-gray-700 shadow-lg",children:f?(0,d.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):(0,d.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),(0,d.jsx)("div",{className:"fixed z-50 w-72 bg-gradient-to-b from-slate-900/80 to-slate-950/80 backdrop-blur-2xl border border-white/10 shadow-2xl transform transition-all duration-300 ease-out xl:translate-x-0 xl:top-4 xl:left-4 xl:bottom-4 xl:rounded-[2.5rem] inset-y-0 left-0 ".concat(f?"translate-x-0":"-translate-x-full"),children:(0,d.jsxs)("div",{className:"p-6 flex flex-col h-full relative overflow-hidden",children:[(0,d.jsx)("div",{className:"absolute top-0 left-0 w-full h-32 bg-violet-600/10 blur-3xl -z-10 pointer-events-none"}),(0,d.jsx)(i.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-8 mt-2 flex justify-between items-center",children:(0,d.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-2 cursor-pointer",onClick:()=>window.location.hash="",children:[(0,d.jsx)("span",{className:"w-8 h-8 bg-gradient-to-br from-violet-500 via-fuchsia-500 to-pink-500 rounded-lg flex items-center justify-center text-lg shadow-lg shadow-violet-500/20",children:"\ud83c\udfab"}),(0,d.jsx)("span",{className:"rainbow-text font-extrabold tracking-tight",children:v("appTitle")})]})}),(0,d.jsxs)(c.A,{variant:"glass",onClick:g,className:"mb-6 w-full py-2 px-3 text-xs font-bold text-slate-400 uppercase tracking-wider justify-between group",children:[(0,d.jsx)("span",{children:"Language"}),(0,d.jsx)("span",{className:"text-white group-hover:text-violet-300 transition-colors",children:"en"===b?"\ud83c\uddfa\ud83c\uddf8 EN":"\ud83c\uddf9\ud83c\uddfc TW"})]}),(0,d.jsxs)("div",{className:"flex-grow overflow-y-auto pr-2 custom-scrollbar",children:[(0,d.jsx)("h3",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-4 px-2",children:v("yourEvents")}),m&&(0,d.jsx)("div",{className:"flex justify-center py-4",children:(0,d.jsx)("div",{className:"w-6 h-6 border-2 border-pink-500 border-t-transparent rounded-full animate-spin"})}),(0,d.jsx)(i.P.div,{variants:o.tl,initial:"hidden",animate:"visible",className:"space-y-1",children:p.map(e=>{const t=h===e.id;return(0,d.jsxs)(i.P.div,{variants:o.tE,className:"relative group flex items-center",children:[(0,d.jsxs)("button",{onClick:()=>{var t;t=e.id,u(t),y(!1),y(!1)},className:"relative w-full text-left px-4 py-3.5 rounded-xl transition-all duration-300 ".concat(t?"text-white font-bold":"text-slate-400 hover:text-slate-200 hover:bg-white/5"),children:[t&&(0,d.jsx)(i.P.div,{layoutId:"activeEventBackground",className:"absolute inset-0 bg-gradient-to-r from-white/10 to-transparent border border-white/10 rounded-xl shadow-lg backdrop-blur-sm",initial:!1,transition:{type:"spring",stiffness:500,damping:30}}),t&&(0,d.jsx)(i.P.div,{layoutId:"activeEventIndicator",className:"absolute left-0 top-0 bottom-0 my-auto w-1 h-6 bg-gradient-to-b from-violet-500 via-fuchsia-500 to-pink-500 rounded-r-full shadow-[0_0_15px_rgba(168,85,247,0.6)]",initial:!1,transition:{type:"spring",stiffness:500,damping:30}}),(0,d.jsx)("span",{className:"relative z-10 truncate block pl-3 transition-transform duration-200 group-hover:translate-x-1",children:e.name||e.id})]}),(0,d.jsx)(i.P.button,{whileHover:{scale:1.1,color:"#ef4444"},whileTap:{scale:.9},onClick:t=>{t.stopPropagation(),a(e.id)},className:"absolute right-2 z-20 p-2 text-slate-500 opacity-0 group-hover:opacity-100 transition-all duration-200 hover:bg-white/10 rounded-lg",title:"Delete Event",children:(0,d.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},e.id)})}),h&&(0,d.jsxs)(i.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 mb-4 px-1",children:[(0,d.jsx)("h3",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-3 px-2",children:v("quickTools")}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,d.jsxs)(c.A,{variant:"glass",onClick:x,className:"p-3 h-20 flex-col gap-2",children:[(0,d.jsx)("div",{className:"text-xl group-hover:scale-110 transition-transform duration-300 drop-shadow-[0_0_8px_rgba(255,255,255,0.3)]",children:"\ud83c\udfb2"}),(0,d.jsx)("div",{className:"text-[10px] text-slate-400 font-medium",children:v("raffle")})]}),(0,d.jsxs)(c.A,{variant:"glass",onClick:()=>window.location.hash="#email",className:"p-3 h-20 flex-col gap-2",children:[(0,d.jsx)("div",{className:"text-xl group-hover:scale-110 transition-transform duration-300 drop-shadow-[0_0_8px_rgba(255,255,255,0.3)]",children:"\u2709\ufe0f"}),(0,d.jsx)("div",{className:"text-[10px] text-slate-400 font-medium",children:v("email")})]})]})]})]}),(0,d.jsx)("div",{className:"mt-auto pt-6 border-t border-white/5",children:(0,d.jsxs)(c.A,{onClick:t,className:"w-full py-3.5 px-4 shadow-lg",children:[(0,d.jsx)("span",{className:"text-xl font-light relative z-10 leading-none pb-1",children:"+"}),(0,d.jsx)("span",{className:"font-medium relative z-10",children:v("createEvent")})]})}),(0,d.jsx)("div",{className:"text-[10px] text-slate-600 text-center mt-6 pb-2 select-none opacity-50",children:v("sidebarFooter")})]})}),(0,d.jsx)(s.N,{children:f&&(0,d.jsx)(i.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 lg:hidden",onClick:()=>y(!1)})})]})};var p=a(28);const m=e=>{let{children:t,className:a=""}=e;return(0,d.jsx)(i.P.div,{initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.98},transition:{duration:.4,ease:[.22,1,.36,1]},className:"w-full h-full flex flex-col ".concat(a),children:t})};var h=a(6555),u=a(1200);const v=e=>{let{children:t}=e;const{eventId:a,selectEvent:l,triggerRefresh:i,fetchEvents:s}=(0,n._)(),{modalContent:o,hideModal:c,showErrorModal:v,showPromptModal:g,showConfirmModal:b,showModal:f}=(0,h.h)(),{t:y}=(0,r.o)();return(0,d.jsxs)("div",{className:"flex h-screen bg-transparent text-slate-200 font-sans overflow-hidden",children:[(0,d.jsx)(x,{currentEventId:a,onSelectEvent:l,onNewEvent:()=>{g(y("modalPromptTitle"),"Enter a unique ID for the new event (e.g., concert-2025).",async e=>{if(e){const a=e.trim().toLowerCase().replace(/\s+/g,"-");try{await(0,u.lh)(a),l(a),i()}catch(t){v("Failed to create event: ".concat(t.message))}}c()})},onDeleteEvent:e=>{b(y("modalDeleteEventTitle"),y("modalDeleteEventBody",e),async()=>{try{await(0,u.SX)(e),a===e&&l(null),s(),c()}catch(t){v("Failed to delete event: "+t.message)}})},onRaffle:async()=>{if(a)try{const e=await(0,u.ah)(a);f({type:"alert",title:y("raffleWinnerTitle"),contentComponent:()=>(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-6xl mb-4 animate-bounce",children:"\ud83c\udfc6"}),(0,d.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:e.winner.name}),(0,d.jsx)("p",{className:"text-gray-400",children:e.winner.email}),(0,d.jsxs)("div",{className:"mt-6 text-xs text-gray-600 uppercase tracking-widest",children:[y("poolSize")," ",e.poolSize]})]})})}catch(e){v(e.message)}},refreshTrigger:0}),(0,d.jsx)("div",{className:"flex-1 flex flex-col min-w-0 relative xl:ml-80 transition-all duration-300 h-full",children:(0,d.jsx)(m,{children:t})}),(0,d.jsx)(p.A,{isOpen:!!o,onClose:c,content:o||{}})]})}},3840:(e,t,a)=>{a.d(t,{A:()=>o});var l=a(5043),i=a(9570),s=a(2465),n=a(5683),r=a(579);const o=e=>{let{children:t,onClick:a,variant:o="primary",className:c="",disabled:d=!1,loading:x=!1,icon:p,loadingText:m,type:h="button",title:u}=e;const[v,g]=(0,l.useState)("idle"),b=x?"loading":v,f={primary:"animated-gradient-bg hover:brightness-110 text-white shadow-purple-500/20",glass:"glass-interactive text-slate-200 hover:text-white",danger:"bg-red-500/10 hover:bg-red-500/20 border border-red-500/30 text-red-400 hover:text-red-300",secondary:"bg-slate-800 hover:bg-slate-700 text-white border border-white/10"},y=f[o]||f.primary;return(0,r.jsx)(s.P.button,{type:h,disabled:d||"loading"===b,onClick:"submit"===h?void 0:async e=>{if("loading"!==b&&!d&&a)try{x||g("loading"),await a(e),x||(g("success"),navigator.vibrate&&navigator.vibrate([10,30,10]),setTimeout(()=>g("idle"),2e3))}catch(t){console.error("Button Action Failed:",t),x||(g("error"),navigator.vibrate&&navigator.vibrate(100),setTimeout(()=>g("idle"),2e3))}},onTapStart:()=>{!d&&"idle"===b&&navigator.vibrate&&navigator.vibrate(15)},title:u,variants:n.XW,whileHover:"idle"!==b||d?"rest":"hover",whileTap:"idle"!==b||d?"rest":"tap",className:"".concat("w-full py-3.5 px-4 rounded-xl font-bold transition-all flex items-center justify-center gap-2 shadow-lg relative overflow-hidden"," ").concat(y," ").concat(d?"opacity-50 cursor-not-allowed grayscale":""," ").concat(c),children:(0,r.jsx)(i.N,{mode:"wait",children:"loading"===b?(0,r.jsxs)(s.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),m&&(0,r.jsx)("span",{children:m})]},"loading"):"success"===b?(0,r.jsxs)(s.P.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:"flex items-center gap-2 text-white",children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),(0,r.jsx)("span",{children:"Done"})]},"success"):"error"===b?(0,r.jsxs)(s.P.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center gap-2 text-red-200",children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),(0,r.jsx)("span",{children:"Error"})]},"error"):(0,r.jsxs)(s.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"flex items-center gap-2",children:[t,p&&(0,r.jsx)("span",{className:"text-lg",children:p})]},"idle")})})}},6555:(e,t,a)=>{a.d(t,{h:()=>s});var l=a(5043),i=a(2136);const s=()=>{const[e,t]=(0,l.useState)(null),{t:a}=(0,i.o)(),s=(0,l.useCallback)(e=>{t(e)},[]),n=(0,l.useCallback)(()=>{t(null)},[]),r=(0,l.useCallback)(e=>{s({type:"alert",title:a("modalError"),body:e})},[s,a]),o=(0,l.useCallback)((e,t,a)=>{s({type:"confirm",title:e,body:t,onConfirm:a})},[s]),c=(0,l.useCallback)((e,t,a)=>{s({type:"prompt",title:e,body:t,onConfirm:a})},[s]),d=(0,l.useCallback)((e,t,a)=>{s({type:"qr-code",title:e,body:t,qrValue:a})},[s]);return{modalContent:e,showModal:s,hideModal:n,showErrorModal:r,showConfirmModal:o,showPromptModal:c,showQrCodeModal:d}}}}]);
//# sourceMappingURL=570.82cb3b0b.chunk.js.map